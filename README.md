# ASIC Flow Course
# Objective 
> VLSI ASIC design involves creating custom circuits optimized for specific tasks using RTL (Register-Transfer Level) description. This involves designing digital logic using hardware description languages like VHDL or Verilog, converting it to gate-level representation through synthesis, and eventually translating it into a physical layout for fabrication. The process includes architectural design, logic implementation, verification, and testing, resulting in highly efficient and tailored integrated circuits.

# Outcomes
+ RTL Description
+ Logic Synthesis
+ Physical Design
+ Verification

# Minimum Requirements for installation 
- ubuntu 20 + 
- min. disk space 150 Gb 
- RAM at least 6 Gb

# Steps for installation
- Enter these commands in terminal 
```
git clone https://github.com/kunalg123/riscv_workshop_collaterals
cd riscv_workshop_collaterals
chmod 755 run.sh
./run.sh 
```
  
# ASIC Flow Course Assignments - Guided by Kunal Ghosh
# Table of contents

<details>
<summary>DAY-1</summary>
<br>

+ Introduction to RISC-V ISA and GNU compiler toolchain

   - Task-1 : C Program To Compute Sum From 1 to N (using gcc) & Spike Simulation And Debug (using RISCV)
    + Command to execute code using gcc
    ```
    gcc 1_n_sum.c
    ./a.out
    ```
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -o1 mabi=lp64 -march=rv64i -o 1_n_sum.o 1_n_sum.c
    spike pk 1_n_sun.o
    ```
    ![#4](https://github.com/Pavan2280/pes_asic_class/assets/131603225/8b4e47d3-f3ba-40e1-b26d-166ee93ce174) 

   - Task-2 : To debug the ALP generated by the compiler
    ```
    spike -d pk 1_n_sun.o
    ```
    ![de](https://github.com/Pavan2280/pes_asic_class/assets/131603225/ac22b9e7-6c71-423a-bfd7-a445ec226e95)

   - Task-3 : Contents of main using different optimizer
   - Using 1 : -O1 optimizer
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -o1 mabi=lp64 -march=rv64i -o 1_n_sum.o 1_n_sum.c
    riscv64-unknown-elf-objdump -d 1_n_sum.o | less
    ```
    ![o1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/2765fb0e-439d-404d-8b39-ef2089ca746b)
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -ofast mabi=lp64 -march=rv64i -o 1_n_sum.o 1_n_sum.c
    riscv64-unknown-elf-objdump -d 1_n_sum.o | less
    ```
   -  Using 2 : -Ofast optimizer
    ![ofast](https://github.com/Pavan2280/pes_asic_class/assets/131603225/cac8e8f0-1def-482b-9cbe-348f6ed8dc33)

   - Task-4 : Lab For Signed And Unsigned Numbers
    + Command to execute code using gcc
    ```
    gcc us_highest.c
    ./a.out
    ```
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -ofast mabi=lp64 -march=rv64i -o us_highest.o us_highest.c
    spike pk us_highest.o
    ```
    ![#5](https://github.com/Pavan2280/pes_asic_class/assets/131603225/2f5ccf76-3dd3-4261-ad80-03ccf886ba55)
    ![#5_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/a281e314-5894-4844-b281-528586984667)
    ![#5_3](https://github.com/Pavan2280/pes_asic_class/assets/131603225/693f403f-eee9-4a21-a46c-ee0e50dc461e)
    ![#5_3_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/b3e05a8e-8305-427d-9e3d-86add6fffdd9)
    ![#5_3_2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/64d22154-52e0-492a-97e7-39287bf0dc0c)
    ![#5_3_3](https://github.com/Pavan2280/pes_asic_class/assets/131603225/73b13dab-457d-4739-9e3f-386a9f6ead6f)
    ![#5_4_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/eb62c0b2-f47d-4aef-8858-207a69387a3d)
    ![#5_4_2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/8c8ae69b-1158-4b69-8d57-fc97a51afc7f)
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -ofast mabi=lp64 -march=rv64i -o s_highest.o s_highest.c
    spike pk s_highest.o
    ```
    ![#6_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/d3f46dd8-f962-47c8-8603-f5bcf391e827)
    ![#6_2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/ffd2fced-a464-45e8-be37-451147b8420a)
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -ofast mabi=lp64 -march=rv64i -o signed_highest.o signed_highest.c
    spike pk signed_highest.o
    ```
    ![#7_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/a1994ddc-1b9c-4497-8984-8b1dcddc66ff)
    ![#7_2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/d0ee8cd2-162a-4f00-b285-2b95f48bce44)
</details>

<details>
<summary>DAY-2</summary>
<br>

+ Introduction to ABI and basic verification flow

   - Task-1 : Sum 1 to N Using ASM and simulating C program with function call
    + Command to execute code using riscv
    ```
    riscv64-unknown-elf-gcc -ofast mabi=lp64 -march=rv64i -o 1_9custom.o 1_9custom.c load.s
    spike pk 1_9custom.o
    riscv64-unknown-elf-objdump -d 1_9custom.o | less
    ```  
    ![#8](https://github.com/Pavan2280/pes_asic_class/assets/131603225/f1400495-8618-470f-9b3a-aa7c61b8eb6e)
    ![#8_1](https://github.com/Pavan2280/pes_asic_class/assets/131603225/8311e3f6-fa0e-4eb7-84c1-7ef8488f6ea3)
    ![8_4_new](https://github.com/Pavan2280/pes_asic_class/assets/131603225/e88722d5-63b8-41e2-9e41-35c9bbf87080)

   -  Task-2 : Lab To Run C-Program On RISC-V CPU
    ```
    chmod 777 rv32im.sh
    ./rv32im.sh
    ```
    ![#8_3](https://github.com/Pavan2280/pes_asic_class/assets/131603225/519d8386-d509-40d6-bfca-b1817b4d2bd9)
</details>

<details>
<summary>DAY-3</summary>
<br>

# Introduction to Verilog RTL design and Synthesis

+ Verilog RTL Design: RTL design is a method used in digital circuit design where the behavior of a system is described using a hardware description language (HDL) like Verilog. It focuses on describing how data is transferred and manipulated between registers, representing the functional blocks of a digital system. This abstraction level is closer to the actual hardware implementation, making it suitable for describing complex digital systems.

+ Behavioral vs. RTL: Verilog offers different levels of abstraction for design. Behavioral describes the system's functionality without specifying the details of how it is implemented, while RTL focuses on how data moves between registers and the logic that operates on that data. RTL design provides a higher level of detail and control over the hardware structure.

+ Registers and Combinational Logic: In RTL design, a digital system is composed of registers (flip-flops) that store data and combinational logic that processes the data. The data flow between registers is described using signals and assignments. Combinational logic is described using procedural blocks, where you specify how inputs are transformed into outputs using Verilog statements.

+ Synthesis: Once the RTL description is complete, the design can be synthesized. Synthesis is the process of transforming the RTL description into a gate-level netlist, which represents the design using actual logic gates and flip-flops. This netlist can then be used to create physical layouts for fabrication. Synthesis tools optimize the design for factors like area, power, and timing.

+ Design Hierarchy: Larger systems are often broken down into hierarchical modules, each with its own RTL description. These modules communicate with each other using defined interfaces. This modular approach makes it easier to manage complexity and allows for reusable designs. Hierarchical designs can be synthesized together to create a complete system.

# Introduction to open-source simulator iverilog

+ Iverilog Based Simulation Flow

![iv](https://github.com/Pavan2280/pes_asic_class/assets/131603225/da9c25d9-c1dd-4f47-8e2e-edd5a839e3c8)

+  Labs using iverilog and gtkwave
    
   -  Task-1 :  Implementation of Mux using iverilog
    + Command to execute code
    ```
    gvim tb_good_mux.v -o good_mux.v
    iverilog good_mux.v tb_good_mux.v
    ./a.out
    gtkwave tb_good_mux.vcd
    ```
    ![3](https://github.com/Pavan2280/pes_asic_class/assets/131603225/1c9c3e3e-4094-458f-8aff-a946cf9bd002)
    
    ![2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/f3b9ec50-9622-4bd5-b606-6cf2ac4d55d4)


+ Introduction to Yosys and Logic Synthesis

![y](https://github.com/Pavan2280/pes_asic_class/assets/131603225/96f84104-686e-4497-8c35-352a29b36268)


+ To Verify Synthesis
![y2](https://github.com/Pavan2280/pes_asic_class/assets/131603225/5a3c649c-50c6-4795-8175-866ecd2e82a8)

+ Invoking the yosys
![4](https://github.com/Pavan2280/pes_asic_class/assets/131603225/3abb8715-30d4-4a6c-b974-a158b21902b5)

   -  Task-2 : Yosys Implementation of good mux 
     + Command to execute code
    ```
    yosys
    read_liberty -lib ../lib/sky130_fd_sc_hd__tt_025C_1v80.lib
    read_verilog good_mux.v
    synth -top good_mux
    abc -liberty ../lib/sky130_fd_sc_hd__tt_025C_1v80.lib
    show
    ```
    ![6](https://github.com/Pavan2280/pes_asic_class/assets/131603225/4a06298e-a4df-4620-b22d-4ef4ce4f97ff)
    ![8](https://github.com/Pavan2280/pes_asic_class/assets/131603225/aac0a282-d9fd-4d0d-8dee-cb96e3d99580)








</details>
